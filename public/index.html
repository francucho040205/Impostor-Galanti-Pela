<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>¿Quién es el impostor? - Online</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- FONDO ANIMADO CON VARIAS FOTOS REBOTANDO -->
  <div id="nyancat-bg">
    <img src="/img/foto-fondo.jpg" id="foto-rebotando1" class="foto-rebotando" alt="Fondo animado 1" />
    <img src="/img/foto-fondo2.jpg" id="foto-rebotando2" class="foto-rebotando" alt="Fondo animado 2" />
    <img src="/img/foto-fondo3.jpg" id="foto-rebotando3" class="foto-rebotando" alt="Fondo animado 3" />
    <img src="/img/foto-fondo4.jpg" id="foto-rebotando4" class="foto-rebotando" alt="Fondo animado 4" />
    <img src="/img/foto-fondo5.jpg" id="foto-rebotando5" class="foto-rebotando" alt="Fondo animado 5" />
  </div>
  <div class="topbar">
    <span>Dev by Cancer Team</span>
    <span style="float:right;">v 1.2.2</span>
  </div>
  <div class="center-outer">
    <div class="center-inner" id="app">
      <h1 class="section-title" id="titleCreate">Crea una sala</h1>
      <div style="display:flex;flex-direction:column;align-items:center;gap:32px;">
        <form class="form-card" id="createRoomForm" autocomplete="off" style="margin-bottom:0;">
          <input id="hostNameInput" type="text" placeholder="Tu nombre" maxlength="20" required>
          <button id="createRoomFinalBtn" type="submit" style="background:#43a047; color:#fff; margin-top:16px;">
            🚀 Crear sala
          </button>
        </form>
        <h2 class="section-subtitle" id="subtitleJoin" style="margin-bottom:0;margin-top:0;">
          O unite a una con un código
        </h2>
        <form class="form-card" id="joinRoomForm" autocomplete="off" style="margin-bottom:0;">
          <input id="roomInput" type="text" placeholder="Código de sala" maxlength="8" required>
          <input id="nameInput" type="text" placeholder="Tu nombre" maxlength="20" required>
          <button id="joinBtn" type="submit" style="background:#1e88e5; color:#fff; margin-top:16px;">
            🗝️ Unirse
          </button>
        </form>
      </div>
      <!-- LOBBY -->
      <div id="lobbyScreen" style="display:none;">
        <div class="lobby-card">
          <div class="lobby-header">
            <div class="lobby-room-label">Código de sala</div>
            <div id="lobbyRoomCode" class="lobby-room-code"></div>
          </div>
          <div class="lobby-title">Jugadores en la sala:</div>
          <ul id="lobbyPlayers"></ul>
          <div id="hostControls" style="display:none;">
            <label for="impostorsSelect" style="margin-bottom: 4px; color:#6e7e8c;">Nº de impostores:</label>
            <select id="impostorsSelect">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
          <div class="lobby-title" style="margin-top:16px;">Tu nombre secreto a sortear</div>
          <form id="nameSuggestForm" style="width:100%;display:flex;gap:8px;justify-content:center;">
            <input id="suggestedNameInput" type="text" placeholder="Nombre secreto" maxlength="20" required style="flex:2;">
            <button id="addNameBtn" type="submit" style="flex:1;background:#2176ff;">➕ Agregar</button>
          </form>
          <button id="startGameBtn" type="button" style="margin-top:20px; background:#188a61;">Iniciar partida</button>
        </div>
      </div>
      <!-- TURNO DE HABLAR -->
      <div id="talkScreen" style="display:none;">
        <div class="form-card">
          <h2 id="talkTitle"></h2>
          <p id="talkInfo"></p>
          <button id="talkDoneBtn" style="margin-top:18px;">Ya hablé</button>
        </div>
      </div>
      <!-- VOTACIÓN -->
      <div id="voteScreen" style="display:none;">
        <div class="form-card">
          <div id="roleBox" style="margin-bottom:20px;">
            <span id="yourRoleText" class="role-text"></span>
            <span id="secretWordBox" class="secret-word"></span>
          </div>
          <div class="lobby-title">¿Quién es el impostor?</div>
          <div id="playersToVote" class="players-list"></div>
          <button id="confirmVoteBtn" style="margin-top:18px;">Confirmar voto</button>
        </div>
      </div>
      <!-- RESULTADOS -->
      <div id="resultScreen" style="display:none;">
        <div class="form-card">
          <h2 id="resultTitle"></h2>
          <div id="resultSecret" style="font-size:1.25em;color:#10d084;margin-bottom:10px;"></div>
          <p id="resultInfo"></p>
          <button id="playAgainBtn">Jugar de nuevo</button>
        </div>
      </div>
    </div>
  </div>
  <!-- CHAT EN ESQUINA (solo aparece en partida/lobby) -->
  <div id="chatBox">
    <div id="chatHeader">Chat</div>
    <div id="chatMessages"></div>
    <form id="chatForm">
      <input id="chatInput" type="text" maxlength="200" placeholder="Enviar un mensaje..." autocomplete="off">
      <button type="submit">Enviar</button>
    </form>
  </div>
  <!-- GIF abajo a la derecha -->
  <div id="gif-euro2016">
    <img src="/img/gif-euro2016.gif" alt="Celebración Euro 2016" />
  </div>
  <!-- AUDIO FIN DE PARTIDA -->
  <audio id="audioFinPartida" src="/audio/fin-partida.mp3"></audio>
  <script src="/socket.io/socket.io.js"></script>
  <script src="main.js"></script>
</body>
</html>
